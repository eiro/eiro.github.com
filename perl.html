<!DOCTYPE html><html>
<head><meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
<link rel="stylesheet" href="./unsemantic.css"/>
<link rel="stylesheet" href="./theme.css" />
<link href='http://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'> 


<title>My own Perl cookbook</title>




</head><body >
    <div id="wrapper"><header role="banner" class="grid-container">
    <div class="grid-100"><h1>The silence of Plato</h1>
</div></header>
  <main role="main" class="grid-container">
  <div class="grid-20">
      <section><ul>
<li><a href="index.html">home</a></li>
<li><a href="news.html">news</a></li>
<li><a href="uze/">uze documentation</a></li>
<li><a href="perl.html">perl</a></li>
<li><a href="cli.html">cli tools</a></li>
<li><a href="sysop.html">sysop notes</a></li>
<li><a href="dump.html">core dump</a></li>
<li><a href="aboutme.html">about me</a></li>
</ul></section>
      <nav id="TOC"><ul>
<li><a href="#first-steps-with-perl">first steps with Perl</a><ul>
<li><a href="#understand-that">understand that</a></li>
<li><a href="#should">should</a></li>
</ul></li>
<li><a href="#deploying">Deploying</a></li>
<li><a href="#parsing">Parsing</a></li>
<li><a href="#pegex">Pegex</a><ul>
<li><a href="#regexpgrammars">Regexp::Grammars</a></li>
<li><a href="#mcgx-functions">m//cgx functions</a></li>
</ul></li>
<li><a href="#installation-de-paquets-perl">installation de paquets perl</a><ul>
<li><a href="#créer-des-paquets-systeme">créer des paquets systeme</a></li>
<li><a href="#installer-dans-son-home">installer dans son home</a></li>
</ul></li>
<li><a href="#notes-pour-un-tuto-perlrun-faire-le-lien-avec-awk">notes pour un tuto perlrun (faire le lien avec awk)</a></li>
<li><a href="#les-flags">les flags</a></li>
<li><a href="#tutoriel-pour-eirotic-perl">Tutoriel pour Eirotic Perl</a></li>
<li><a href="#préparer-son-environement-de-développement">Préparer son environement de développement</a><ul>
<li><a href="#setup-your-working-environment">setup your working environment</a></li>
</ul></li>
</ul></nav>
<img src="./logos/hackers.svg"/>
<a href="http://mongueurs.net/"><img src="http://mongueurs.net/img/logo_100x100_idx.png" alt="Perl, what else?" title="powered by perl" /></a>
<a href="./atom.xml"><img src="http://upload.wikimedia.org/wikipedia/en/4/43/Feed-icon.svg" alt="[Valid Atom 1.0]" title="my atom" id="atomLink" /></a> 
<a href="http://validator.w3.org/feed/check.cgi?url=http%3A//eiro.github.io/atom.xml"><img src="http://validator.w3.org/feed/images/valid-atom.png" alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" /></a>
  </div>
<div class="grid-80"><h1>My own Perl cookbook</h1>
    <section class="content"
    ><h1 id="first-steps-with-perl">first steps with Perl</h1>
<p>If you are totally newcommers to <a href="http://perl.org/">Perl</a> 5 (but confortable with programming at large) those are the steps.</p>
<h2 id="understand-that">understand that</h2>
<ul>
<li><p>perl is a very strong, well geared community: everything you need to learn, write, enjoy <a href="http://perl.org/">Perl</a> is provided by the <a href="http://perldoc.perl.org/perlcommunity"></a> itself. the official documentation (<a href="http://perldoc.perl.org/">Perldoc</a>) comes with very well written references and tutorials (also available on your system, see <code>man perl</code>).</p></li>
<li><p>even if <a href="http://perl.org/">Perl</a> is a very modern dynamic langage, <a href="https://en.wikipedia.org/wiki/Backward_compatibility">Backward compatibility</a> is very important to the <a href="http://perldoc.perl.org/perlcommunity"></a> so try to not learn perl reading 20 years old scripts.</p></li>
</ul>
<h2 id="should">should</h2>
<ul>
<li>about object oriented programming using <a href="https://metacpan.org/pod/Moo">Moo</a> and <a href="https://metacpan.org/pod/Type::Tiny">Type::Tiny</a></li>
<li>about authoring modules reading <a href="http://perldoc.perl.org/perlmodstyle"></a> and using <a href="https://metacpan.org/pod/Dist::Zilla">Dist::Zilla</a></li>
<li>deploying using <a href="https://metacpan.org/pod/App::cpanminus">App::cpanminus</a>, <a href="https://metacpan.org/pod/Carton">Carton</a>, <a href="https://metacpan.org/pod/Pinto">Pinto</a></li>
<li>use the <a href="https://metacpan.org/pod/experimental">experimental</a> <a href="http://perldoc.perl.org/perlsub">Signatures</a></li>
</ul>
<p>so the sites to know are * <a href="http://metacpan.org">MetaCPAN</a>, which is the search engine/social network over <a href="http://cpan.org">CPAN</a> * <a href="http://perldoc.perl.org/">Perldoc</a>, the perl documentation site (also available on your machine by typing <code>man perl</code>). Especially <a href="http://perldoc.perl.org/perlintro"></a></p>
<h1 id="deploying">Deploying</h1>
<h1 id="parsing">Parsing</h1>
<p>don't bet on recursive Regexps: as perl isn't</p>
<p>this is not just about pattern matching: * to parse complex structures * to return rich nested datastructures like AST in result.</p>
<p>while it isn't hard to write your own parser based on <code>//nxsmg</code> (i still do it for very simple cases)</p>
<ul>
<li>I tried and succeeded it by myself using an experiment of mine called <a href="https://github.com/eiro/p5-persec">Persec</a> but there are now awesome <a href="http://en.wikipedia.org/wiki/Parsing_expression_grammar">PEG</a> modules outthere, each are maintained by well known perl hackers.</li>
</ul>
<h1 id="pegex">Pegex</h1>
<p><a href="https://metacpan.org/pod/distribution/Pegex/lib/Pegex.pod">Pegex</a> (by <a href="http://ingy.net/">Ingy döt Net</a>) wasn't finished when i testd it (in 2014) but sounds very promising because of its <a href="http://acmeism.org/">acmeic</a> nature (the same grammar could be used to generate emitters in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">javascript</a> and <a href="http://www.perl.org">Python</a>).</p>
<p>Notes: * welcoming and available community but reachable only via IRC * no online archive (i think they must have a mailing list).</p>
<h2 id="regexpgrammars">Regexp::Grammars</h2>
<p><a href="https://metacpan.org/pod/Regexp::Grammars">Regexp::Grammars</a> (by <a href="https://en.wikipedia.org/wiki/Damian_Conway">Damian Conway</a>) overloads <code>qr</code> to add a <a href="http://en.wikipedia.org/wiki/Parsing_expression_grammar">PEG</a> featured syntax inspired to the Perl6's <a href="http://design.perl6.org/S05.html">Synopsis 5: Regexes and Rules</a>.</p>
<ul>
<li>very pleasant to write and debug. <a href="http://perl6.org">Perl6</a> inspiration is obvious.</li>
<li>soooo slow! (at least in 2009)</li>
</ul>
<h2 id="mcgx-functions">m//cgx functions</h2>
<ul>
<li>basic example: <a href="https://github.com/eiro/labo/tree/master/parsing_with_perl/sexpr_parser.pl">s-expr parser</a>.</li>
<li>much more code to write than with Pegex or <a href="https://metacpan.org/pod/Regexp::Grammars">Regexp::Grammars</a> but runs much faster.</li>
<li>not so easy to write but good habits comes fast.</li>
<li>tried to write a collection of helpers named <a href="https://github.com/eiro/p5-persec">persec</a> but i finally never used it.</li>
</ul>
<p>you <em>must</em> read <a href="http://en.wikipedia.org/wiki/Communicating_sequential_processes">CSP</a></p>
<h1 id="installation-de-paquets-perl">installation de paquets perl</h1>
<p>WARNING (a moins d'une nouveauté?): ne pas utiliser un client cpan en root pour éviter de placer dans les répertoires du système des fichiers malaisés à supprimer.</p>
<p>différentes solutions existent</p>
<h2 id="créer-des-paquets-systeme">créer des paquets systeme</h2>
<ul>
<li>sous debian, voir <a href="sysop.html">ma page sysop</a>.</li>
<li>sous les rpm-based, on utilisait un truc a biblibre ... je sais plus...</li>
<li>sous macos, j'avais écris <a href="https://trac.macports.org/wiki/howto/cpan2port">cpan2port</a> qui est tjrs utilisé par la communauté macports. toutefois:</li>
<li>il semble que <a href="http://brew.sh/">homebrew</a> soit maintenant plus utilisé.</li>
<li>comme macos est un des rares unices qui me sorte vraiment par les yeux, je ne sais pas ou tout ca en est.</li>
<li>sous windows, <a href="http://strawberryperl.com/">Strawberry Perl</a> et son client CPAN ou le perl de <a href="http://cygwin.org/">cygwin</a>.</li>
</ul>
<h2 id="installer-dans-son-home">installer dans son home</h2>
<p>les installations de <code>cpanm</code> (un client cpan lite) sont décrites <a href="http://search.cpan.org/~miyagawa/App-cpanminus-1.7001/lib/App/cpanminus.pm#INSTALLATION">ici</a>. Le package debian s'appelle <code>cpanm</code>.</p>
<h1 id="notes-pour-un-tuto-perlrun-faire-le-lien-avec-awk">notes pour un tuto perlrun (faire le lien avec awk)</h1>
<p>Cet article est mon recueil de bonnes pratiques pour les perl oneliners (qui font d'ailleurs rarement une ligne). je pars du principe que vous avez des bases de sed et awk (si ca n'est pas le cas: il est temps).</p>
<h1 id="les-flags">les flags</h1>
<p>perl -wsE 'say $foo' -- -foo=bar</p>
<p>foo=&quot;bar&quot; perl -Menv -wsE 'say $foo'</p>
<h1 id="tutoriel-pour-eirotic-perl">Tutoriel pour Eirotic Perl</h1>
<p>De la préparation de votre environement de développement jusqu'au déployement de votre application, Perl vous permet d'effectuer de nombreux choix.</p>
<p>Aucun développeur Perl confirmé ne voudrait perdre cette liberté qui permet de s'adapter à toutes les situations. A l'inverse, le débutant peut facilement perdre patience devant la richesse de l'écosystème de Perl.</p>
<p>Ce didacticiel propose une seule voie: celle que je pratique maintenant depuis des années. Ca n'est peut-être pas la meilleure mais elle est le fruit de mon experience et utilise ce que je pense être les dernières bonnes pratiques en vigueur dans le monde Perl.</p>
<p>Les prérequis sont simples:</p>
<ul>
<li><p>avoir un compte utilisateur sur une machine Unix (nul besoin d'en posséder les droits d'administration) avec Perl (et de préférence zsh) installé.</p></li>
<li><p>avoir des bases de shell unix. je ne reviens pas sur des notions comme les variables d'environement, le shebang ou les commandes de base de gestion de fichiers.</p></li>
<li><p>connaitre 1 editeur de texte. J'utilise <a href="http://vim.org">vim</a> pour ma part mais il existe des IDEs Perl comme <a href="http://padre.perlide.org/">padre</a> ou <a href="http://www.epic-ide.org/">epic</a>.</p></li>
<li><p>Avoir les bases de la syntaxe Perl et son ecosystème. le présent document propose de bonnes pratiques et n'est en rien une initiation à la syntaxe. Vous devez donc savoir ce qu'est un module, le CPAN, un client CPAN.</p></li>
</ul>
<h1 id="préparer-son-environement-de-développement">Préparer son environement de développement</h1>
<p>Perl (et de manière induite tous les outils de l'écosystème Perl) repose sur des repertoires</p>
<p>Perl et la plupart de ses outils repose sur des variables d'environement</p>
<p>There is more than one way to do it in Perl. It's not only about writting code but also setting up your developpement environement and deploy apps.</p>
<p>This tutorial use my way from zero (well,</p>
<p>I have the same habits for many years now and I think it would help to share those to have a from zero to deployement tu</p>
<p>This tutorial is about my way</p>
<p>this is a from-zero to Eirotic tutorial.</p>
<h2 id="setup-your-working-environment">setup your working environment</h2>
<p>install the cpanm client to ease installation of CPAN dependencies. everything would work from your home directory, no root</p>
<pre><code>curl -L http://cpanmin.us | perl - App::cpanminus</code></pre>
<p>it install <code>local::lib</code></p><span class="dynamic-px-width"></span></section></div> 
  </main>
</div> 
</body></html>
